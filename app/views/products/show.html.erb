<% provide(:title, @product.name) %>
<div class="Container ProductsContainer">
  <%= render 'shared/breadcrumb', breadcrumbs: [
    { name: 'ホーム', path: root_path },
    { name: @product.taxons.first.parent.name, path: category_path(@product.taxons.first.parent.id) },
    { name: @product.taxons.first.name, path: category_path(@product.taxons.first.id) },
    { name: @product.name }
  ] %>
  <div class="ProductWrapper">
    <div class="ProductSlider">
      <div class="carousel-inner">
        <% @product.images.each_with_index do |image, index| %>
          <div class="item <%= 'active' if index == 0 %>">
            <%= image_tag image.attachment(:small), alt: @product.name, class: 'product-image' %>
          </div>
        <% end %>
      </div>
    </div>
    <section class="ProductDetail">
      <h1 class="ProductDetail__name"><%= @product.name %></h1>
      <div class="ProductDetail__size-buttons">
        <div class="SizeButton">
          <input id="radio1" class="SizeButton__input" name="size" type="radio" value="S" checked="">
          <label for="radio1" class="SizeButton__label">S</label>
        </div>
        <div class="SizeButton">
          <input id="radio2" class="SizeButton__input" name="size" type="radio" value="M">
          <label for="radio2" class="SizeButton__label">M</label>
        </div>
        <div class="SizeButton">
          <input id="radio3" class="SizeButton__input" name="size" type="radio" value="L">
          <label for="radio3" class="SizeButton__label">L</label>
        </div>
        <div class="SizeButton">
          <input id="radio4" class="SizeButton__input" name="size" type="radio" value="XL">
          <label for="radio4" class="SizeButton__label">XL</label>
        </div>
      </div>
      <h3 class="ProductDetail__price"><%= @product.display_price %></h3>
      <label class="SubTotalForItem__label" for="item-count">数量</label>
      <div class="SubTotalForItem__select ProductDetail__item-count">
        <select name="item-count" id="item-count">
          <% (1..10).each do |i| %>
            <option value="<%= i %>"><%= i %></option>
          <% end %>
        </select>
      </div>
      <a class="ProductDetail__add-button" href="/cart">カートに入れる</a>
    </section>
  </div>
  <section class="RelatedProducts">
    <h3 class="RelatedProducts__title">一緒に見られている商品</h3>
    <ul class="RelatedProducts__list">
      <% 4.times do %>
        <li class="RelatedProduct">
          <%= image_tag "home/category/cloth.jpg", class: "RelatedProduct__image", alt: "服" %>
          <p class="RelatedProduct__name">ヒートテックウォームウォームパデットリブブルゾン</p>
          <span class="RelatedProduct__price">¥ 5,999</span>
        </li>
      <% end %>
    </ul>
  </section>
</div>
